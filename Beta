(()=>{var t={108:(t,e,i)=>{var o,s;o=[i,e,i(354),i(360),i(357),i(638),i(493),i(528),i(489),i(948),i(259),i(462),i(598)],s=function(t,e,i,o,s,r,n,l,h,a,c,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.gui=void 0,e.gui=new class{constructor(){this.bind="ShiftRight",this.cursorState=0,this.tree=[],this.isActivated=!1,this.selectedSlot=-1,this.position=new d.Vector,this.config=u.Config,this.patterns=u.patterns,this.render=new i.Render,this.eventController=new o.EventController,this.addFont("https://fonts.googleapis.com/css2?family=Source+Sans+Pro&display=swap"),this.init()}init(){this.eventController.listen(),this.draw(),window.addEventListener("click",(t=>{for(const i of Object.values(this.tree)){const{position:o,size:s,slot:r}=i;l.MathHelper.isHover(o,t,s)&&e.gui.isActivated&&(e.gui.selectedSlot=r)}}))}addFont(t){document.body.insertAdjacentHTML("beforebegin",`<style> @import url(${t}); </style>`)}observe(t){return new Proxy(t,{get:(t,e)=>t[e]})}switch(){this.isActivated=!this.isActivated,this.render.changeVisibility()}draw(){window.requestAnimationFrame(this.draw.bind(this));let{context:t}=this.render;const e=window.innerWidth/2-500,i=window.innerHeight/2-300;if(this.position.x=l.MathHelper.lerp(this.position.x,e,this.config.lerp_factor),this.position.y=l.MathHelper.lerp(this.position.y,i,this.config.lerp_factor),t.clearRect(0,0,window.innerWidth,window.innerHeight),this.isActivated){this.drawMenu(),this.drawTopMenu(),this.drawFoldersMenu(),this.drawCross(),this.handleCursor();for(let t=0;t<Object.values(this.tree).length;t++)Object.values(this.tree)[t].render();this.selectedSlot>=0&&(t.save(),t.fillStyle=this.config.folder.hoverColor,t.beginPath(),t.roundRect(this.position.x,50*this.selectedSlot+this.position.y,10,Object.values(this.tree)[this.selectedSlot].size.y,[this.selectedSlot?0:12,0,0,11===this.selectedSlot?12:0]),t.fill(),t.globalAlpha=.115,t.fillRect(this.position.x+10,50*this.selectedSlot+this.position.y,Object.values(this.tree)[this.selectedSlot].size.x-10,Object.values(this.tree)[this.selectedSlot].size.y),t.restore())}this.eventController.leftClick=!1}handleCursor(){window.document.querySelector("html").style.cursor=1==this.cursorState?"pointer":2==this.cursorState?"e-resize":"auto",this.cursorState=0}drawTopMenu(){const{context:t}=this.render;t.save(),t.beginPath(),t.shadowColor="black",t.shadowBlur=5,t.fillStyle=this.config.menu.backgroundColor,t.roundRect(this.position.x+175,this.position.y,825,40,[0,12,0,0]),t.fill(),t.restore()}drawMenu(){const{context:t}=this.render;t.save(),t.beginPath(),t.shadowColor="black",t.shadowBlur=5,t.fillStyle=this.config.menu.backgroundColor,t.roundRect(this.position.x+175,this.position.y+40,825,560,[0,0,12,0]),t.fill(),t.restore()}drawCross(){const{context:t}=this.render;t.save(),t.beginPath(),t.lineWidth=3,t.strokeStyle="red",t.moveTo(this.position.x+990,this.position.y+10),t.lineTo(this.position.x+970,this.position.y+30),t.stroke(),t.beginPath(),t.moveTo(this.position.x+970,this.position.y+10),t.lineTo(this.position.x+990,this.position.y+30),t.stroke(),t.restore()}drawFoldersMenu(){const{context:t}=this.render;t.save(),t.beginPath(),t.shadowColor="black",t.shadowBlur=5,t.fillStyle=this.config.folder.backgroundColor,t.roundRect(this.position.x,this.position.y,175,600,[12,0,0,12]),t.fill(),t.restore()}createElements(t){for(let e=0;e<t.length;e++){let{type:i,label:o,description:l,parent:d,object:u,property:p,action:x,start:y,end:g,step:f}=t[e];switch(i){case c.EXTENSIONS.FOLDER:this.tree[o]=new r.Folder({label:o});break;case c.EXTENSIONS.BUTTON:this.tree[d].tree[o]=new s.Button({label:o,description:l,action:x});break;case c.EXTENSIONS.SWITCH:this.tree[d].tree[o]=new n.Switch({label:o,object:u,property:p});break;case c.EXTENSIONS.SLIDER:this.tree[d].tree[o]=new a.Slider({label:o,object:u,property:p,start:y,end:g,step:f});break;case c.EXTENSIONS.INPUT:this.tree[d].tree[o]=1;break;case c.EXTENSIONS.DISPLAY:this.tree[d].tree[o]=new h.Display({label:o,object:u,property:p})}console.log(this.tree)}}},window.gui=e.gui}.apply(e,o),void 0===s||(t.exports=s)},598:(t,e,i)=>{var o;o=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.patterns=e.Config=void 0,e.Config={lerp_factor:.2,folder:{backgroundColor:"#202020",textColor:"white",hoverColor:"white"},button:{backgroundColor:"#202020",textColor:"white",hoverColor:"white"},switch:{backgroundColor:"#202020",hoverColor:"white",thumbColor:"white"},slider:{backgroundColor:"#202020",hoverColor:"white",thumbColor:"white"},menu:{backgroundColor:"#191919"},font:{size:24,family:"Source Sans Pro"},descriptionColor:"gray"},e.patterns={dark_crimson:{lerp_factor:.2,folder:{backgroundColor:"#212121",textColor:"#f5f5f5",hoverColor:"#424242"},button:{backgroundColor:"#424242",textColor:"#f5f5f5",hoverColor:"#616161"},switch:{backgroundColor:"#424242",hoverColor:"#616161",thumbColor:"#f44336"},slider:{backgroundColor:"#424242",hoverColor:"#616161",thumbColor:"#f44336"},menu:{backgroundColor:"#303030"},font:{size:24,family:"Source Sans Pro"},descriptionColor:"#9e9e9e"},dark_ocean:{lerp_factor:.2,folder:{backgroundColor:"#1e1f26",textColor:"#d4d4d4",hoverColor:"#2b2d3c"},button:{backgroundColor:"#2b2d3c",textColor:"#d4d4d4",hoverColor:"#3d4154"},switch:{backgroundColor:"#2b2d3c",hoverColor:"#3d4154",thumbColor:"#00bcd4"},slider:{backgroundColor:"#2b2d3c",hoverColor:"#3d4154",thumbColor:"#00bcd4"},menu:{backgroundColor:"#1e1f26"},font:{size:24,family:"Source Sans Pro",style:"normal"},descriptionColor:"#a5a5a5"}}}.apply(e,[i,e]),void 0===o||(t.exports=o)},357:(t,e,i)=>{var o,s;o=[i,e,i(528),i(108),i(462)],s=function(t,e,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Button=void 0,e.Button=class{constructor(t){this.position=new s.Vector,this.size=new s.Vector({x:120,y:40}),this.label=t.label,this.description=t.description,this.action=t.action??(()=>{})}render(t){this.position.x=o.gui.position.x+t.x+420,this.position.y=o.gui.position.y+t.y+70,i.MathHelper.isHover(this.position,o.gui.eventController.mouse,this.size)&&o.gui.isActivated&&o.gui.eventController.leftClick&&this.action();let{context:e}=o.gui.render;e.save(),e.beginPath(),e.shadowColor="black",e.shadowBlur=5,e.fillStyle=o.gui.config.button.backgroundColor,e.fillRect(this.position.x,this.position.y,this.size.x,this.size.y),e.restore(),i.MathHelper.isHover(this.position,o.gui.eventController.mouse,this.size)&&o.gui.isActivated&&(o.gui.cursorState=1,e.save(),e.beginPath(),e.fillStyle=o.gui.config.button.hoverColor,e.globalAlpha=.1,e.fillRect(this.position.x,this.position.y,this.size.x,this.size.y),e.restore()),o.gui.render.createText({text:this.label,x:this.position.x+this.size.x/2,y:this.position.y+this.size.y/2,color:o.gui.config.button.textColor,maxWidth:this.size.x,fontSize:16}),o.gui.render.createText({text:this.description,x:this.position.x-this.size.x-100,y:this.position.y+this.size.y/2,color:o.gui.config.descriptionColor,maxWidth:200,fontSize:20,align:"left"})}}}.apply(e,o),void 0===s||(t.exports=s)},489:(t,e,i)=>{var o,s;o=[i,e,i(108),i(462)],s=function(t,e,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Display=void 0,e.Display=class{constructor(t){this.position=new o.Vector,this.size=new o.Vector({x:120,y:40}),this.label=t.label,this.property=t.property,this.data=i.gui.observe(t.object)}render(t){this.position.x=i.gui.position.x+t.x+420,this.position.y=i.gui.position.y+t.y+70,i.gui.render.createText({text:this.data[this.property],x:this.position.x+this.size.x/2,y:this.position.y+this.size.y/2,color:i.gui.config.descriptionColor,maxWidth:this.size.x,fontSize:20}),i.gui.render.createText({text:this.label,x:this.position.x-this.size.x-100,y:this.position.y+this.size.y/2,color:i.gui.config.descriptionColor,maxWidth:200,fontSize:20,align:"left"})}}}.apply(e,o),void 0===s||(t.exports=s)},638:(t,e,i)=>{var o,s;o=[i,e,i(528),i(108),i(462)],s=function(t,e,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Folder=void 0;let r=0;e.Folder=class{constructor({label:t}){this.tree=[],this.position=new s.Vector,this.size=new s.Vector({x:175,y:50}),this.slot=r++,this.label=t}render(){this.position.x=o.gui.position.x,this.position.y=50*this.slot+o.gui.position.y;let{context:t}=o.gui.render;i.MathHelper.isHover(this.position,o.gui.eventController.mouse,this.size)&&o.gui.isActivated&&(o.gui.cursorState=1,t.save(),t.beginPath(),t.fillStyle=o.gui.config.folder.hoverColor,t.globalAlpha=.2275,t.roundRect(this.position.x,this.position.y,this.size.x,this.size.y,[this.slot?0:12,0,0,11===this.slot?12:0]),t.fill(),t.restore()),o.gui.render.createText({text:this.label,x:this.position.x+this.size.x/2,y:this.position.y+this.size.y/2,color:o.gui.config.folder.textColor,maxLength:16});for(let t=0;t<Object.values(this.tree).length;t++)o.gui.selectedSlot===this.slot&&Object.values(this.tree)[t].render({x:400*Math.floor(t/10),y:55*t-550*Math.floor(t/10)})}}}.apply(e,o),void 0===s||(t.exports=s)},948:(t,e,i)=>{var o,s;o=[i,e,i(528),i(108),i(462)],s=function(t,e,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Slider=void 0,e.Slider=class{constructor(t){this.isDragging=!1,this.thumbOffset=0,this.newThumbOffset=0,this.position=new s.Vector({x:400,y:50}),this.size=new s.Vector({x:120,y:40}),this.label=t.label,this.defaultLabel=t.label,this.property=t.property,this.object=t.object,this.start=t.start,this.end=t.end,this.step=t.step,this.data=o.gui.observe(this.object)}render(t){const{config:e,position:s,eventController:r}=o.gui,{mouse:n}=r,{x:l,y:h}=s;this.position.x=l+t.x+420,this.position.y=h+t.y+70,this.thumbOffset=i.MathHelper.lerp(this.thumbOffset,this.newThumbOffset,e.lerp_factor);const a=i.MathHelper.isHover(this.position,n,this.size),c=r.isDrag;if(a&&r.leftClick?this.isDragging=!0:c||(this.isDragging=!1),this.drawSliderBackground(),this.drawSliderThumb(),a&&o.gui.isActivated&&(o.gui.cursorState=2),c&&this.isDragging){const{x:t}=n,{x:e}=this.position,i=this.size.x-6,o=this.step/100,s=t-e,r=Math.max(0,Math.min(s,i)),l=Math.round(r/this.step)*this.step,h=Math.max(this.start,Math.min(this.end*(l/i),this.end)),a=Math.round(h/o)*o,c=a%1==0?a:a.toFixed(2);this.newThumbOffset=l,this.object[this.property]=a,this.label=`${this.defaultLabel} (${c})`}o.gui.render.createText({text:this.label,x:this.position.x-this.size.x-100,y:this.position.y+this.size.y/2,color:e.descriptionColor,maxWidth:200,fontSize:20,align:"left"})}drawSliderThumb(){const{context:t}=o.gui.render,{slider:e}=o.gui.config;t.save(),t.beginPath(),t.shadowBlur=5,t.shadowColor="black",t.fillStyle=e.thumbColor,t.fillRect(this.position.x+this.thumbOffset,this.position.y,6,this.size.y),t.restore()}drawSliderBackground(){const{context:t}=o.gui.render,{slider:e}=o.gui.config;t.save(),t.beginPath(),t.shadowBlur=5,t.shadowColor="black",t.fillStyle=e.backgroundColor,t.fillRect(this.position.x,this.position.y,this.size.x,this.size.y),t.restore()}}}.apply(e,o),void 0===s||(t.exports=s)},493:(t,e,i)=>{var o,s;o=[i,e,i(528),i(108),i(462)],s=function(t,e,i,o,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Switch=void 0,e.Switch=class{constructor({label:t,object:e,property:i}){this.size=new s.Vector({x:60,y:30}),this.squareOffset=0,this.label=t,this.property=i,this.activated=o.gui.observe(e)}isHover(){return i.MathHelper.isHover(this.position,o.gui.eventController.mouse,this.size)&&o.gui.isActivated}render(t){const{size:e,property:r,activated:n}=this,{eventController:l,render:h,config:a}=o.gui;this.position=new s.Vector({x:o.gui.position.x+t.x+480,y:o.gui.position.y+t.y+70});const c=n[r]?e.x-e.y:0;this.squareOffset=i.MathHelper.lerp(this.squareOffset,c,a.lerp_factor),i.MathHelper.isHover({x:this.position.x,y:this.position.y},l.mouse,e)&&o.gui.isActivated&&l.leftClick&&(n[r]=!n[r]),h.context.save(),h.context.beginPath(),h.context.shadowColor="black",h.context.shadowBlur=5,h.context.globalAlpha=n[r]?1:.25,h.context.fillStyle=a.switch.backgroundColor,h.context.fillRect(this.position.x,this.position.y,e.x,e.y),h.context.restore(),h.context.save(),h.context.beginPath(),h.context.shadowColor="black",h.context.shadowBlur=5,h.context.globalAlpha=n[r]?1:.2,h.context.fillStyle=a.switch.thumbColor,h.context.fillRect(this.position.x+this.squareOffset+4,this.position.y+4,e.y-8,e.y-8),h.context.restore(),this.isHover()&&(o.gui.cursorState=1,h.context.save(),h.context.beginPath(),h.context.fillStyle=a.switch.hoverColor,h.context.globalAlpha=.1,h.context.fillRect(this.position.x,this.position.y,e.x,e.y),h.context.restore()),o.gui.render.createText({text:this.label,x:this.position.x-e.x-220,y:this.position.y+e.y/2,color:a.descriptionColor,maxWidth:200,fontSize:20,align:"left"})}}}.apply(e,o),void 0===s||(t.exports=s)},259:(t,e,i)=>{var o;o=function(t,e){"use strict";var i;Object.defineProperty(e,"__esModule",{value:!0}),e.EXTENSIONS=void 0,(i=e.EXTENSIONS||(e.EXTENSIONS={})).FOLDER="folder",i.BUTTON="button",i.SWITCH="switch",i.SLIDER="slider",i.INPUT="input",i.DISPLAY="display",i.BIND="bind"}.apply(e,[i,e]),void 0===o||(t.exports=o)},360:(t,e,i)=>{var o,s;o=[i,e,i(462),i(108)],s=function(t,e,i,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.EventController=void 0,e.EventController=class{constructor(){this.keys=[]}listen(){window.addEventListener("mousedown",(()=>{this.isDrag=!0,this.leftClick=!0})),window.addEventListener("mouseup",(()=>{this.isDrag=!1,this.leftClick=!1})),window.addEventListener("keydown",(t=>{t.code===o.gui.bind&&o.gui.switch(),this.keys.push(t.code)})),window.addEventListener("keyup",(t=>{this.keys.splice(this.keys.indexOf(t.code),1)})),window.addEventListener("mousemove",(t=>{this.mouse=new i.Vector(t)}))}}}.apply(e,o),void 0===s||(t.exports=s)},528:(t,e,i)=>{var o;o=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MathHelper=void 0;class i{}i.isHover=(t,e,i)=>{let o=Math.abs(e.x-t.x-i.x/2),s=Math.abs(e.y-t.y-i.y/2);return o<i.x/2&&s<i.y/2},i.lerp=(t,e,i)=>t*(1-i)+e*i,e.MathHelper=i}.apply(e,[i,e]),void 0===o||(t.exports=o)},354:(t,e,i)=>{var o,s;o=[i,e,i(108)],s=function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Render=void 0,e.Render=class{constructor(){this.canvas=document.createElement("canvas"),this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight,this.canvas.style.left="0px",this.canvas.style.top="0px",this.canvas.style.zIndex="-1",this.canvas.style.position="absolute",this.context=this.canvas.getContext("2d"),window.addEventListener("resize",(()=>{this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight})),document.body.append(this.canvas)}changeVisibility(){this.canvas.style.zIndex=i.gui.isActivated?"999999":"-1"}createText(t){let{text:e,x:o,y:s,color:r,maxLength:n,stroke:l,align:h,fontSize:a,maxWidth:c}=t;this.context.save(),this.context.lineWidth=7,this.context.font=`${a??i.gui.config.font.size}px ${i.gui.config.font.family}`,this.context.fillStyle=r,this.context.strokeStyle="#000",this.context.textBaseline="middle",this.context.textAlign=h??"center",n&&(e=e.slice(0,Math.min(e.length,n))),l&&this.context.strokeText(e,o,s,c),this.context.fillText(e,o,s,c),this.context.restore()}}}.apply(e,o),void 0===s||(t.exports=s)},462:(t,e,i)=>{var o;o=function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Vector=void 0;class i{constructor({x:t,y:e}={x:0,y:0}){this.x=t,this.y=e}add(t){return new i({x:this.x+t.x,y:this.y+t.y})}subtract(t){return new i({x:this.x-t.x,y:this.y-t.y})}multiply(t){return new i({x:this.x*t,y:this.y*t})}divide(t){return new i({x:this.x/t,y:this.y/t})}getMagnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}normalize(){const t=this.getMagnitude();return new i({x:this.x/t,y:this.y/t})}static dotProduct(t,e){return t.x*e.x+t.y*e.y}}e.Vector=i}.apply(e,[i,e]),void 0===o||(t.exports=o)}},e={};!function i(o){var s=e[o];if(void 0!==s)return s.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,i),r.exports}(108)})();
